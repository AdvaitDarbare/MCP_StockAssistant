{"ast":null,"code":"var _jsxFileName = \"/Users/advaitdarbare/Desktop/ai-stock-assistant/frontend/src/components/Message.tsx\";\nimport React from 'react';\nimport { User, Bot } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Message({\n  message,\n  onFollowUpClick,\n  isLoading = false\n}) {\n  const isUser = message.role === 'user';\n\n  // Extract follow-up suggestions from the content\n  const extractFollowUps = content => {\n    const followUpMatch = content.match(/__FOLLOW_UPS_START__(.*?)__FOLLOW_UPS_END__/s);\n    if (followUpMatch) {\n      const followUpText = followUpMatch[1].trim();\n      const suggestions = followUpText.split('\\n').filter(line => line.trim() && /^\\d+\\./.test(line.trim())).map(line => line.trim());\n\n      // Remove the follow-up section from the main content\n      const cleanContent = content.replace(/__FOLLOW_UPS_START__(.*?)__FOLLOW_UPS_END__/s, '').trim();\n      return {\n        content: cleanContent,\n        suggestions\n      };\n    }\n    return {\n      content,\n      suggestions: []\n    };\n  };\n  const {\n    content: cleanContent,\n    suggestions\n  } = extractFollowUps(message.content);\n\n  // Format the message content to handle markdown-like formatting\n  const formatContent = content => {\n    // Convert markdown-style formatting to HTML\n    let formatted = content\n    // Bold text **text** -> <strong>text</strong>\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    // Italic text *text* -> <em>text</em>  \n    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n    // Code blocks ```code``` -> <pre><code>code</code></pre>\n    .replace(/```(.*?)```/gs, '<pre class=\"code-block\"><code>$1</code></pre>')\n    // Inline code `code` -> <code>code</code>\n    .replace(/`([^`]+)`/g, '<code class=\"bg-gray-100 px-1 py-0.5 rounded text-sm\">$1</code>')\n    // Line breaks\n    .replace(/\\n/g, '<br />');\n    return formatted;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex gap-3 ${isUser ? 'justify-end' : 'justify-start'} mb-6`,\n    children: [!isUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0 w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(Bot, {\n        className: \"w-5 h-5 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex flex-col ${isUser ? 'items-end' : 'items-start'} max-w-4xl`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: isUser ? 'message-user' : 'message-assistant',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `prose ${isUser ? 'prose-invert' : ''} prose-sm max-w-none`,\n          dangerouslySetInnerHTML: {\n            __html: formatContent(message.content)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 mt-1 px-1\",\n        children: message.timestamp.toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), isUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(User, {\n        className: \"w-5 h-5 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_c = Message;\nvar _c;\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["React","User","Bot","jsxDEV","_jsxDEV","Message","message","onFollowUpClick","isLoading","isUser","role","extractFollowUps","content","followUpMatch","match","followUpText","trim","suggestions","split","filter","line","test","map","cleanContent","replace","formatContent","formatted","className","children","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","timestamp","toLocaleTimeString","hour","minute","_c","$RefreshReg$"],"sources":["/Users/advaitdarbare/Desktop/ai-stock-assistant/frontend/src/components/Message.tsx"],"sourcesContent":["import React from 'react';\nimport { Message as MessageType } from '../types';\nimport { User, Bot } from 'lucide-react';\nimport { FollowUpSuggestions } from './FollowUpSuggestions';\n\ninterface MessageProps {\n  message: MessageType;\n  onFollowUpClick?: (message: string) => void;\n  isLoading?: boolean;\n}\n\nexport function Message({ message, onFollowUpClick, isLoading = false }: MessageProps) {\n  const isUser = message.role === 'user';\n\n  // Extract follow-up suggestions from the content\n  const extractFollowUps = (content: string): { content: string; suggestions: string[] } => {\n    const followUpMatch = content.match(/__FOLLOW_UPS_START__(.*?)__FOLLOW_UPS_END__/s);\n    \n    if (followUpMatch) {\n      const followUpText = followUpMatch[1].trim();\n      const suggestions = followUpText\n        .split('\\n')\n        .filter(line => line.trim() && /^\\d+\\./.test(line.trim()))\n        .map(line => line.trim());\n      \n      // Remove the follow-up section from the main content\n      const cleanContent = content.replace(/__FOLLOW_UPS_START__(.*?)__FOLLOW_UPS_END__/s, '').trim();\n      \n      return { content: cleanContent, suggestions };\n    }\n    \n    return { content, suggestions: [] };\n  };\n\n  const { content: cleanContent, suggestions } = extractFollowUps(message.content);\n\n  // Format the message content to handle markdown-like formatting\n  const formatContent = (content: string) => {\n    // Convert markdown-style formatting to HTML\n    let formatted = content\n      // Bold text **text** -> <strong>text</strong>\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n      // Italic text *text* -> <em>text</em>  \n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n      // Code blocks ```code``` -> <pre><code>code</code></pre>\n      .replace(/```(.*?)```/gs, '<pre class=\"code-block\"><code>$1</code></pre>')\n      // Inline code `code` -> <code>code</code>\n      .replace(/`([^`]+)`/g, '<code class=\"bg-gray-100 px-1 py-0.5 rounded text-sm\">$1</code>')\n      // Line breaks\n      .replace(/\\n/g, '<br />');\n\n    return formatted;\n  };\n\n  return (\n    <div className={`flex gap-3 ${isUser ? 'justify-end' : 'justify-start'} mb-6`}>\n      {!isUser && (\n        <div className=\"flex-shrink-0 w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center\">\n          <Bot className=\"w-5 h-5 text-white\" />\n        </div>\n      )}\n      \n      <div className={`flex flex-col ${isUser ? 'items-end' : 'items-start'} max-w-4xl`}>\n        <div className={isUser ? 'message-user' : 'message-assistant'}>\n          <div \n            className={`prose ${isUser ? 'prose-invert' : ''} prose-sm max-w-none`}\n            dangerouslySetInnerHTML={{ __html: formatContent(message.content) }}\n          />\n        </div>\n        \n        <div className=\"text-xs text-gray-500 mt-1 px-1\">\n          {message.timestamp.toLocaleTimeString([], { \n            hour: '2-digit', \n            minute: '2-digit' \n          })}\n        </div>\n      </div>\n\n      {isUser && (\n        <div className=\"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center\">\n          <User className=\"w-5 h-5 text-white\" />\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}