INFO:     Will watch for changes in these directories: ['/Users/advaitdarbare/Desktop/ai-stock-assistant/backend']
INFO:     Uvicorn running on http://127.0.0.1:8020 (Press CTRL+C to quit)
INFO:     Started reloader process [14388] using WatchFiles
INFO:     Started server process [14418]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
üîß STOCK AGENT - Input received: 'What's AAPL stock price?'
üîß Stock LLM Response: {
  "tools_to_call": [
    {
      "tool": "get_stock_data",
      "params": {
        "symbol": "AAPL"
      }
    }
  ],
  "reasoning": "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."
}
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_stock_data', 'params': {'symbol': 'AAPL'}}], 'reasoning': "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."}
üîß STOCK AGENT - Executing TOOL: get_stock_data
   üìã Tool Description: üìà Get real-time quote and price data for a single stock
   ‚öôÔ∏è  Parameters: {'symbol': 'AAPL'}
   ‚úÖ Tool completed successfully - Got quote for AAPL
üîß STOCK AGENT - Final output length: 155 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:58757 - "POST /mcp HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14418]
INFO:     Started server process [18279]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18279]
INFO:     Started server process [18885]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18885]
INFO:     Started server process [21237]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [21237]
INFO:     Started server process [22179]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [22179]
INFO:     Started server process [23337]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [23337]
INFO:     Started server process [24123]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
üîß STOCK AGENT - Input received: 'What's AAPL stock price?'
üîß Stock LLM Response: {
  "tools_to_call": [
    {
      "tool": "get_stock_data",
      "params": {
        "symbol": "AAPL"
      }
    }
  ],
  "reasoning": "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."
}
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_stock_data', 'params': {'symbol': 'AAPL'}}], 'reasoning': "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."}
üîß STOCK AGENT - Executing TOOL: get_stock_data
   üìã Tool Description: üìà Get real-time quote and price data for a single stock
   ‚öôÔ∏è  Parameters: {'symbol': 'AAPL'}
   ‚úÖ Tool completed successfully - Got quote for AAPL
üîß STOCK AGENT - Final output length: 314 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:59534 - "POST /mcp HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [24123]
INFO:     Started server process [27260]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27260]
INFO:     Started server process [27496]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27496]
INFO:     Started server process [28048]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28048]
INFO:     Started server process [28317]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28317]
INFO:     Started server process [29863]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29863]
INFO:     Started server process [30124]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [30124]
INFO:     Started server process [30358]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [30358]
INFO:     Started server process [30600]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
üîß STOCK AGENT - Input received: 'What's AAPL stock price?'
üîß Stock LLM Response: {
  "tools_to_call": [
    {
      "tool": "get_stock_data",
      "params": {
        "symbol": "AAPL"
      }
    }
  ],
  "reasoning": "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."
}
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_stock_data', 'params': {'symbol': 'AAPL'}}], 'reasoning': "The user is requesting the current stock price for Apple (AAPL), so I will call the get_stock_data tool with the symbol 'AAPL'."}
üîß STOCK AGENT - Executing TOOL: get_stock_data
   üìã Tool Description: üìà Get real-time quote and price data for a single stock
   ‚öôÔ∏è  Parameters: {'symbol': 'AAPL'}
   ‚úÖ Tool completed successfully - Got quote for AAPL
üîß STOCK AGENT - Final output length: 413 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:60028 - "POST /mcp HTTP/1.1" 200 OK
üîß STOCK AGENT - Input received: 'Show me 6 month price history for AAPL'
üîß Stock LLM Response: {
  "tools_to_call": [
    {
      "tool": "get_price_history",
      "params": {
        "symbol": "AAPL",
        "period_type": "month",
        "period": 6,
        "frequency_type": "daily",
        "frequency": 1
      }
    }
  ],
  "reasoning": "The user requested the 6 month price history for the AAPL stock, so I will call the get_price_history tool with the appropriate parameters."
}
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_price_history', 'params': {'symbol': 'AAPL', 'period_type': 'month', 'period': 6, 'frequency_type': 'daily', 'frequency': 1}}], 'reasoning': 'The user requested the 6 month price history for the AAPL stock, so I will call the get_price_history tool with the appropriate parameters.'}
üîß STOCK AGENT - Executing TOOL: get_price_history
   üìã Tool Description: üìâ Get historical price performance over time periods
   ‚öôÔ∏è  Parameters: {'symbol': 'AAPL', 'period_type': 'month', 'period': 6, 'frequency_type': 'daily', 'frequency': 1}
   ‚úÖ Tool completed successfully - Got 6 month(s) history for AAPL
üîß STOCK AGENT - Final output length: 318 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:60035 - "POST /mcp HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [30600]
INFO:     Started server process [33935]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/stock_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33935]
INFO:     Started server process [34170]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/agents/equity_insight_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34170]
INFO:     Started server process [34299]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
üîß STOCK AGENT - Input received: 'Show me 1 year price history for AAPL'
üîß Stock LLM Response: Here is the plan to execute the request for 1 year price history for AAPL:

{
  "tools_to_call": [
    {
      "tool": "get_price_history",
      "params": {
        "symbol": "AAPL",
        "period_type": "year",
        "period": 1,
        "frequency_type": "daily",
        "frequency": 1
      }
    }
  ],
  "reasoning": "User wants 1 year of daily price history for the AAPL stock."
}

The key steps are:

1. Extracted the stock symbol "AAPL" from the request.
2. Determined the appropriate parameters for the get_price_history tool:
   - period_type = "year" to get 1 year of data
   - period = 1 to specify 1 year
   - frequency_type = "daily" to get daily price data
   - frequency = 1 to get 1 data point per day

This will retrieve the daily price history for Apple (AAPL) over the past 1 year period and return that data to the user.
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_price_history', 'params': {'symbol': 'AAPL', 'period_type': 'year', 'period': 1, 'frequency_type': 'daily', 'frequency': 1}}], 'reasoning': 'User wants 1 year of daily price history for the AAPL stock.'}
üîß STOCK AGENT - Executing TOOL: get_price_history
   üìã Tool Description: üìâ Get historical price performance over time periods
   ‚öôÔ∏è  Parameters: {'symbol': 'AAPL', 'period_type': 'year', 'period': 1, 'frequency_type': 'daily', 'frequency': 1}
   ‚úÖ Tool completed successfully - Got 1 year(s) history for AAPL
üîß STOCK AGENT - Final output length: 436 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:60168 - "POST /mcp HTTP/1.1" 200 OK
üîß STOCK AGENT - Input received: 'Compare AAPL vs GOOGL vs MSFT'
üîß Stock LLM Response: {
  "tools_to_call": [
    {
      "tool": "get_multiple_quotes",
      "params": {
        "symbols": ["AAPL", "GOOGL", "MSFT"]
      }
    }
  ],
  "reasoning": "The user wants to compare the stock prices of Apple (AAPL), Google (GOOGL), and Microsoft (MSFT), so the get_multiple_quotes tool should be used with those three symbols."
}
üîß STOCK AGENT - Plan generated: {'tools_to_call': [{'tool': 'get_multiple_quotes', 'params': {'symbols': ['AAPL', 'GOOGL', 'MSFT']}}], 'reasoning': 'The user wants to compare the stock prices of Apple (AAPL), Google (GOOGL), and Microsoft (MSFT), so the get_multiple_quotes tool should be used with those three symbols.'}
üîß STOCK AGENT - Executing TOOL: get_multiple_quotes
   üìã Tool Description: üìä Compare multiple stocks side-by-side with prices and changes
   ‚öôÔ∏è  Parameters: {'symbols': ['AAPL', 'GOOGL', 'MSFT']}
   ‚úÖ Tool completed successfully - Compared 3 stocks: ['AAPL', 'GOOGL', 'MSFT']
üîß STOCK AGENT - Final output length: 351 chars
üéâ STOCK AGENT - Successfully processed query using 1 tool(s)
INFO:     127.0.0.1:60276 - "POST /mcp HTTP/1.1" 200 OK
